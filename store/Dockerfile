# -------------------------------------
# üêç 1. Ch·ªçn image Python nh·∫π
# -------------------------------------
FROM python:3.10-slim

# -------------------------------------
# üìÅ 2. Thi·∫øt l·∫≠p th∆∞ m·ª•c l√†m vi·ªác trong container
# -------------------------------------
WORKDIR /app

# -------------------------------------
# üì¶ 3. Copy file d·ª± √°n v√†o container
# -------------------------------------
COPY . /app

# -------------------------------------
# üîß 4. C√†i c√°c g√≥i c·∫ßn thi·∫øt
# -------------------------------------
RUN pip install --no-cache-dir -r requirements.txt

# -------------------------------------
# üåç 5. Bi·∫øn m√¥i tr∆∞·ªùng cho Flask
# -------------------------------------
ENV FLASK_APP=backend.py
ENV FLASK_RUN_HOST=0.0.0.0
ENV PYTHONUNBUFFERED=1

# -------------------------------------
# üö™ 6. M·ªü c·ªïng 5000
# -------------------------------------
EXPOSE 5000

# -------------------------------------
# ‚ñ∂Ô∏è 7. Ch·∫°y ·ª©ng d·ª•ng
# -------------------------------------
CMD ["flask", "run"]
